{% extends 'base.html' %}
{% block title %}{% if form.instance.pk %}Todo編集{% else %}新しいTodoを作成{% endif %}{% endblock %}
{% block content %}
    <h1 class="h3 mb-3">{% if object %}Todo編集{% else %}新しいTodoを作成{% endif %}</h1>
    
    <form method="post" class="row gy-3">
        {% csrf_token %}

    </form>
        {% if form.non_field_errors %}
            <ul class="errors">
                {% for e in form.non_field_errors %}
                    <li>{{ e }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            <div class="col-12">
                <label for="{{ form.title.id_for_label }}" class="form-label">タイトル</label>
                {{ form.title }}
            </div>
            <div class="col-12">
                <label for="{{ form.description.id_for_label }}" class="form-label">詳細</label>
                {{ form.description }}
            </div>
            <div class="col-12 col-md-6">
                <label for="{{ form.due_date.id_for_label }}" class="form-label">期限</label>
                {{ form.due_date }} 
            </div>
            <div class="col-12 col-md-6 d-flex align-items-end">
                <div class="form-check">
                    {{ form.is_done }}
                    <label for="{{ form.is_done.id_for_label }}" class="form-check-label">完了</label>
                </div>
            </div>
            <div class="col-12 d-flex gap-2">
                <button type="submit" class="btn btn-primary">{% if object %}更新{% else %}作成{% endif %}</button>
                <a href="{% url 'todos:list' %}" class="btn btn-secondary">一覧戻る</a>
            </div>
        </form>
{% endblock %}