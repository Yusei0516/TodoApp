{% extends "base.html" %}
{% block title %}Todo一覧{% endblock %}

{% block content %}
  <h1 class="mb-4">Todo一覧</h1>

  <a href="{% url 'todos:create' %}" class="btn btn-primary mb-3">新しいTodoを作成</a>

  {% if todos %}
    <ul class="list-group">
      {% for todo in todos %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            {% if todo.is_done %}
              ✅ <strong>{{ todo.title }}</strong>
            {% else %}
              ❌ <strong>{{ todo.title }}</strong>
            {% endif %}
            {% if todo.due_date %}
              <small class="text-muted">(期限: {{ todo.due_date }})</small>
            {% endif %}
          </div>
          <div>
            <a href="{% url 'todos:update' todo.id %}" class="btn btn-sm btn-warning">編集</a>
            <a href="{% url 'todos:delete' todo.id %}" class="btn btn-sm btn-danger">削除</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>Todoはまだありません。</p>
  {% endif %}
{% endblock %}